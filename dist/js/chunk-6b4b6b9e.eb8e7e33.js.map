{"version":3,"sources":["webpack:///./src/views/Hot.vue?48cf","webpack:///./src/components/TopBang.vue?3651","webpack:///src/components/TopBang.vue","webpack:///./src/components/TopBang.vue?90c0","webpack:///./src/components/TopBang.vue","webpack:///src/views/Hot.vue","webpack:///./src/views/Hot.vue?1603","webpack:///./src/views/Hot.vue","webpack:///./src/views/Hot.vue?ff30"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","ptime","_m","hotlist","length","_e","attrs","showList","playMusicID","on","$event","$emit","ref","loadMore","page","staticRenderFns","component","name","data","props","components","created","getTime","mounted","window","addEventListener","next","beforeDestroy","beforeRouteLeave","methods","windowScroll","computed","slice","startPos"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,YAAYA,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,qBAAqBF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACN,EAAIO,GAAG,SAASP,EAAIQ,GAAGR,EAAIS,YAAYT,EAAIU,GAAG,KAA0B,GAApBV,EAAIW,QAAQC,OAAWR,EAAG,WAAWJ,EAAIa,KAAKT,EAAG,YAAY,CAACU,MAAM,CAAC,SAAWd,EAAIe,SAAS,SAAU,EAAK,YAAcf,EAAIgB,aAAaC,GAAG,CAAC,KAAO,SAASC,GAAQ,OAAOlB,EAAImB,MAAM,OAAOD,OAAYd,EAAG,MAAM,CAACgB,IAAI,SAASd,YAAY,cAAcW,GAAG,CAAC,MAAQjB,EAAIqB,WAAW,CAACrB,EAAIO,GAAGP,EAAIQ,GAAGP,KAAKqB,MAAM,EAAE,UAAU,YAAY,IACvpBC,EAAkB,CAAC,WAAa,IAAIvB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,iB,4CCD9J,EAAS,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAClH,EAAkB,GCMtB,KCPiV,I,YCO7UkB,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCSf,GACEC,KAAM,MACNC,KAFF,WAGI,MAAJ,CACM,MAAN,KACM,QAAN,GACM,KAAN,IAGEC,MAAF,CACI,YAAJ,QAEEC,WAAF,CACI,SAAJ,OACI,QAAJ,GAEEC,QAhBF,WAgBA,WACI5B,KAAK6B,UACL,KAAJ,8BAAM,OAAN,eACA,kBACM,IAAN,uCAMQ,OALA,EAAR,MACU,UAAV,gBACU,QAAV,KACU,MAAV,MAEA,KAEM,EAAN,cAMEC,QAlCF,WAmCIC,OAAOC,iBAAiB,SAA5B,oBAEE,iBArCF,SAqCA,OACIC,GAAK,SAAT,GACMF,OAAOC,iBAAiB,SAA9B,oBAGEE,cA1CF,WA2CI,OAAJ,iDAEEC,iBA7CF,SA6CA,OACI,OAAJ,gDACI,KAGFC,QAAF,CAEIhB,SAFJ,WAGA,cAEM,KAAN,QAGIS,QARJ,WASM,IAAN,WACA,kBACA,eACA,cAEM7B,KAAKQ,MAAQ,EAAnB,iBAEI6B,aAhBJ,WAkBA,+DACQrC,KAAKoB,aAMXkB,SAAF,CACIxB,SADJ,WAEM,GAAN,uBACQ,IAAR,cACA,eACQ,OAAOd,KAAKU,QAAQ6B,MAAMC,EAAlC,GAEM,MAAO,MC7GgU,ICQzU,G,UAAY,eACd,EACA1C,EACAwB,GACA,EACA,KACA,WACA,OAIa,e,kECnBf","file":"js/chunk-6b4b6b9e.eb8e7e33.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hot\"},[_c('top-bang'),_c('div',{staticClass:\"hot-top\"},[_c('div',{staticClass:\"hotopct\"},[_c('div',{staticClass:\"u-hmsprt hoticon\"}),_c('div',{staticClass:\"hottime\"},[_vm._v(\"更新日期: \"+_vm._s(_vm.ptime))])]),_vm._m(0)]),(_vm.hotlist.length==0)?_c('loading'):_vm._e(),_c('song-list',{attrs:{\"songlist\":_vm.showList,\"shownum\":true,\"playMusicID\":_vm.playMusicID},on:{\"play\":function($event){return _vm.$emit('play',$event)}}}),_c('div',{ref:\"bottom\",staticClass:\"loadingmore\",on:{\"click\":_vm.loadMore}},[_vm._v(_vm._s(this.page>=5?'no more':'加载更多'))])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hotcont\"},[_c('div',{staticClass:\"m-sglist\"})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div class=\"box\">\r\n\t\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBang.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBang.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TopBang.vue?vue&type=template&id=735dccc2&scoped=true&\"\nimport script from \"./TopBang.vue?vue&type=script&lang=js&\"\nexport * from \"./TopBang.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"735dccc2\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"hot\">\r\n      <top-bang></top-bang>\r\n        <div class=\"hot-top\">\r\n            <div class=\"hotopct\">\r\n                <div class=\"u-hmsprt hoticon\"></div>\r\n                <div class=\"hottime\">更新日期: {{ptime}}</div>\r\n            </div>\r\n            <div class=\"hotcont\">\r\n                <div class=\"m-sglist\"></div>\r\n            </div>\r\n        </div> \r\n    <loading v-if=\"hotlist.length==0\"></loading>\r\n    <song-list \r\n    @play=\"$emit('play',$event)\" \r\n    :songlist=\"showList\" \r\n    :shownum=true\r\n    :playMusicID=\"playMusicID\"\r\n    ></song-list>\r\n    <div ref=\"bottom\" class=\"loadingmore\" @click=\"loadMore\">{{this.page>=5?'no more':'加载更多'}}</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport SongList from '../components/SongList.vue'\r\nimport TopBang from '../components/TopBang.vue'\r\n\r\nexport default {\r\n  name: \"Hot\",\r\n  data(){\r\n      return{\r\n          ptime:null,\r\n          hotlist:[],\r\n          page:1\r\n      }\r\n  },\r\n  props:{\r\n        playMusicID:Number\r\n  },\r\n  components:{\r\n      SongList,\r\n      TopBang\r\n  },\r\n  created(){\r\n    this.getTime()\r\n       this.axios.get(\"/playlist/detail\",{params:{id:3778678}})\r\n      .then(res=>{\r\n          let songlist=res.playlist.tracks.map((v,index)=>{\r\n            v.song={\r\n              privilege:res.privileges[index],\r\n              artists:v.ar,\r\n              album:v.al\r\n            }\r\n            return v;\r\n          });\r\n          this.hotlist = songlist;//.splice(0,20)\r\n      })\r\n      // this.axios.get(\"https://apis.netstart.cn/music/toplist/detail\").then(res=>{\r\n      //   console.log(res);\r\n      // })\r\n  },\r\n  mounted(){\r\n    window.addEventListener(\"scroll\",this.windowScroll)\r\n  },\r\n   beforeRouteEnter(to,from,next){\r\n    next(vm=>{\r\n      window.addEventListener(\"scroll\",vm.windowScroll)\r\n    });\r\n  }, \r\n  beforeDestroy(){\r\n      window.removeEventListener(\"scroll\",this.windowScroll)\r\n  },\r\n  beforeRouteLeave(to,from,next){\r\n      window.removeEventListener(\"scroll\",this.windowScroll)\r\n      next();\r\n  },\r\n\r\n  methods:{\r\n    //加载更多\r\n    loadMore(){\r\n      if(this.page>=5){\r\n        return\r\n      }this.page++;\r\n    },\r\n    //获取时间\r\n    getTime(){\r\n      let nowTime = new Date()\r\n      let y = nowTime.getFullYear()\r\n      let m = nowTime.getMonth()\r\n      let d = nowTime.getDate()\r\n      // console.log( y + '年' + m + '月' + d + '日');\r\n      this.ptime =  y + '年' + m + '月' + d + '日'\r\n    },\r\n    windowScroll(){\r\n      //  console.log(window.scrollY,window.innerHeight,this.$refs.bottom.offsetTop);\r\n       if(window.scrollY+window.innerHeight>this.$refs.bottom.offsetTop){\r\n        this.loadMore();\r\n      } \r\n      // console.log(\"滚动\");\r\n    }\r\n\r\n  },\r\n  computed:{\r\n    showList(){\r\n      if(this.hotlist.length>0){\r\n        let startPos=this.page-1;\r\n        let endPos=this.page*20;\r\n        return this.hotlist.slice(startPos,endPos)\r\n      }\r\n      return []\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.hot {\r\n  margin-bottom: 20vh;\r\n  .hot-top:after {\r\n    content: \" \";\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    z-index: 1;\r\n    background-color: rgba(0, 0, 0, 0.2);\r\n  }\r\n  .hot-top {\r\n    position: relative;\r\n    padding-top: 38.9%;\r\n    overflow: hidden;\r\n    background: url(\"../assets/images/shadow_03.jpeg\") no-repeat;\r\n    background-size: 100%;\r\n      \r\n    z-index: -1;\r\n    .hotopct {\r\n      display: flex;\r\n      -ms-flex-direction: column;\r\n      flex-direction: column;\r\n      -ms-flex-pack: center;\r\n      justify-content: center;\r\n      position: absolute;\r\n      left: 0;\r\n      right: 0;\r\n      top: 0;\r\n      bottom: 0;\r\n      z-index: 2;\r\n      padding-left: 20px;\r\n      box-sizing: border-box;\r\n      .hoticon {\r\n        display: block;\r\n        width: 142px;\r\n        height: 67px;\r\n        background: url(https://s3.music.126.net/mobile-new/img/index_icon_2x.png?5207a28c3767992ca4bb6d4887c74880=)\r\n          no-repeat -24px -45px;\r\n        background-size: 166px 97px;\r\n      }\r\n      .hottime {\r\n        margin-top: 10px;\r\n        color: hsla(0, 0%, 100%, 0.8);\r\n        font-size: 12px;\r\n        -webkit-transform: scale(0.91);\r\n        -ms-transform: scale(0.91);\r\n        transform: scale(0.91);\r\n        -webkit-transform-origin: left top;\r\n        -ms-transform-origin: left top;\r\n        transform-origin: left top;\r\n      }\r\n    }\r\n  }\r\n  .loadingmore{\r\n    text-align: center;\r\n    line-height: 60px;\r\n    color: rgb(121, 120, 120);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Hot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Hot.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Hot.vue?vue&type=template&id=495f0bbe&scoped=true&\"\nimport script from \"./Hot.vue?vue&type=script&lang=js&\"\nexport * from \"./Hot.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Hot.vue?vue&type=style&index=0&id=495f0bbe&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"495f0bbe\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Hot.vue?vue&type=style&index=0&id=495f0bbe&lang=less&scoped=true&\""],"sourceRoot":""}